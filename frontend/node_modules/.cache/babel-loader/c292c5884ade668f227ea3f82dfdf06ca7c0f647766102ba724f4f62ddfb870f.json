{"ast":null,"code":"import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';\n\n// Use environment variable or default to relative URL in production, localhost in development\nconst getGraphQLUri = () => {\n  if (process.env.REACT_APP_GRAPHQL_URI) {\n    return process.env.REACT_APP_GRAPHQL_URI;\n  }\n  // In production (deployed), use relative URL\n  if (process.env.NODE_ENV === 'production') {\n    return '/api/graphql';\n  }\n  // In development, use localhost\n  return 'http://localhost:5001/graphql';\n};\nconst httpLink = createHttpLink({\n  uri: getGraphQLUri(),\n  credentials: 'same-origin'\n});\nconst client = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    watchQuery: {\n      fetchPolicy: 'cache-and-network'\n    },\n    query: {\n      errorPolicy: 'all'\n    },\n    mutate: {\n      errorPolicy: 'all'\n    }\n  }\n});\n\n// Log the GraphQL URI for debugging\nconsole.log('GraphQL URI:', getGraphQLUri());\nexport default client;","map":{"version":3,"names":["ApolloClient","InMemoryCache","createHttpLink","getGraphQLUri","process","env","REACT_APP_GRAPHQL_URI","NODE_ENV","httpLink","uri","credentials","client","link","cache","defaultOptions","watchQuery","fetchPolicy","query","errorPolicy","mutate","console","log"],"sources":["/Users/rajeevranjanpratapsingh/Weather-Intelligence-System-tech-2/frontend/src/apollo/client.js"],"sourcesContent":["import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';\n\n// Use environment variable or default to relative URL in production, localhost in development\nconst getGraphQLUri = () => {\n  if (process.env.REACT_APP_GRAPHQL_URI) {\n    return process.env.REACT_APP_GRAPHQL_URI;\n  }\n  // In production (deployed), use relative URL\n  if (process.env.NODE_ENV === 'production') {\n    return '/api/graphql';\n  }\n  // In development, use localhost\n  return 'http://localhost:5001/graphql';\n};\n\nconst httpLink = createHttpLink({\n  uri: getGraphQLUri(),\n  credentials: 'same-origin',\n});\n\nconst client = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    watchQuery: {\n      fetchPolicy: 'cache-and-network',\n    },\n    query: {\n      errorPolicy: 'all',\n    },\n    mutate: {\n      errorPolicy: 'all',\n    },\n  },\n});\n\n// Log the GraphQL URI for debugging\nconsole.log('GraphQL URI:', getGraphQLUri());\n\nexport default client;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,EAAEC,cAAc,QAAQ,gBAAgB;;AAE5E;AACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC1B,IAAIC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EAAE;IACrC,OAAOF,OAAO,CAACC,GAAG,CAACC,qBAAqB;EAC1C;EACA;EACA,IAAIF,OAAO,CAACC,GAAG,CAACE,QAAQ,KAAK,YAAY,EAAE;IACzC,OAAO,cAAc;EACvB;EACA;EACA,OAAO,+BAA+B;AACxC,CAAC;AAED,MAAMC,QAAQ,GAAGN,cAAc,CAAC;EAC9BO,GAAG,EAAEN,aAAa,CAAC,CAAC;EACpBO,WAAW,EAAE;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAIX,YAAY,CAAC;EAC9BY,IAAI,EAAEJ,QAAQ;EACdK,KAAK,EAAE,IAAIZ,aAAa,CAAC,CAAC;EAC1Ba,cAAc,EAAE;IACdC,UAAU,EAAE;MACVC,WAAW,EAAE;IACf,CAAC;IACDC,KAAK,EAAE;MACLC,WAAW,EAAE;IACf,CAAC;IACDC,MAAM,EAAE;MACND,WAAW,EAAE;IACf;EACF;AACF,CAAC,CAAC;;AAEF;AACAE,OAAO,CAACC,GAAG,CAAC,cAAc,EAAElB,aAAa,CAAC,CAAC,CAAC;AAE5C,eAAeQ,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}