{"ast":null,"code":"import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';\n\n// Use environment variable or default to relative URL in production, localhost in development\nconst getGraphQLUri = () => {\n  if (process.env.REACT_APP_GRAPHQL_URI) {\n    return process.env.REACT_APP_GRAPHQL_URI;\n  }\n\n  // Check if running on localhost\n  const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || window.location.hostname.includes('192.168.');\n  if (isLocalhost) {\n    // In local development, use localhost backend\n    return 'http://localhost:5001/graphql';\n  }\n\n  // In production (deployed on Vercel), use relative URL\n  return '/api/graphql';\n};\nconst httpLink = createHttpLink({\n  uri: getGraphQLUri(),\n  credentials: 'same-origin'\n});\nconst client = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    watchQuery: {\n      fetchPolicy: 'cache-and-network'\n    },\n    query: {\n      errorPolicy: 'all'\n    },\n    mutate: {\n      errorPolicy: 'all'\n    }\n  }\n});\n\n// Log the GraphQL URI for debugging\nconsole.log('GraphQL URI:', getGraphQLUri());\nexport default client;","map":{"version":3,"names":["ApolloClient","InMemoryCache","createHttpLink","getGraphQLUri","process","env","REACT_APP_GRAPHQL_URI","isLocalhost","window","location","hostname","includes","httpLink","uri","credentials","client","link","cache","defaultOptions","watchQuery","fetchPolicy","query","errorPolicy","mutate","console","log"],"sources":["/Users/rajeevranjanpratapsingh/Weather-Intelligence-System-tech-2/frontend/src/apollo/client.js"],"sourcesContent":["import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';\n\n// Use environment variable or default to relative URL in production, localhost in development\nconst getGraphQLUri = () => {\n  if (process.env.REACT_APP_GRAPHQL_URI) {\n    return process.env.REACT_APP_GRAPHQL_URI;\n  }\n  \n  // Check if running on localhost\n  const isLocalhost = window.location.hostname === 'localhost' || \n                     window.location.hostname === '127.0.0.1' ||\n                     window.location.hostname.includes('192.168.');\n  \n  if (isLocalhost) {\n    // In local development, use localhost backend\n    return 'http://localhost:5001/graphql';\n  }\n  \n  // In production (deployed on Vercel), use relative URL\n  return '/api/graphql';\n};\n\nconst httpLink = createHttpLink({\n  uri: getGraphQLUri(),\n  credentials: 'same-origin',\n});\n\nconst client = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    watchQuery: {\n      fetchPolicy: 'cache-and-network',\n    },\n    query: {\n      errorPolicy: 'all',\n    },\n    mutate: {\n      errorPolicy: 'all',\n    },\n  },\n});\n\n// Log the GraphQL URI for debugging\nconsole.log('GraphQL URI:', getGraphQLUri());\n\nexport default client;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,EAAEC,cAAc,QAAQ,gBAAgB;;AAE5E;AACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC1B,IAAIC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EAAE;IACrC,OAAOF,OAAO,CAACC,GAAG,CAACC,qBAAqB;EAC1C;;EAEA;EACA,MAAMC,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW,IACzCF,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW,IACxCF,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,UAAU,CAAC;EAEhE,IAAIJ,WAAW,EAAE;IACf;IACA,OAAO,+BAA+B;EACxC;;EAEA;EACA,OAAO,cAAc;AACvB,CAAC;AAED,MAAMK,QAAQ,GAAGV,cAAc,CAAC;EAC9BW,GAAG,EAAEV,aAAa,CAAC,CAAC;EACpBW,WAAW,EAAE;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAIf,YAAY,CAAC;EAC9BgB,IAAI,EAAEJ,QAAQ;EACdK,KAAK,EAAE,IAAIhB,aAAa,CAAC,CAAC;EAC1BiB,cAAc,EAAE;IACdC,UAAU,EAAE;MACVC,WAAW,EAAE;IACf,CAAC;IACDC,KAAK,EAAE;MACLC,WAAW,EAAE;IACf,CAAC;IACDC,MAAM,EAAE;MACND,WAAW,EAAE;IACf;EACF;AACF,CAAC,CAAC;;AAEF;AACAE,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEtB,aAAa,CAAC,CAAC,CAAC;AAE5C,eAAeY,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}